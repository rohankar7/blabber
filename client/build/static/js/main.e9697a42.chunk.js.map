{"version":3,"sources":["fire.js","components/Auth.js","components/Login.js","components/Signup.js","components/Home.js","Images/profile.jpg","components/Contact.js","components/User.js","components/Contacts.js","components/VideoPlayer.js","components/Chat.js","components/Main.js","components/PrivateRoute.js","components/ResetPassword.js","components/ManageUser.js","App.js","index.js"],"names":["fire","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","AuthContext","React","createContext","AuthProvider","children","useState","currentUser","setCurrentUser","useEffect","auth","onAuthStateChanged","user","Provider","value","emailVerified","withRouter","history","useContext","removeError","document","getElementById","innerHTML","loginUser","useCallback","event","a","preventDefault","target","elements","email","password","signInWithEmailAndPassword","then","push","console","log","uid","to","catch","error","err","code","message","className","onSubmit","id","style","paddingBottom","color","name","type","placeholder","autoComplete","onClick","pathname","signupUser","userName","confirmPassword","createUserWithEmailAndPassword","sendEmailVerification","database","ref","set","storage","child","put","autofill","Home","listStyleType","width","textAlign","tabIndex","textDecoration","padding","borderRadius","src","alt","Contact","props","imgLink","setImageUrl","uname","setUname","lastMessage","setLastMessage","images","querySelectorAll","forEach","image","draggable","on","snapshot","val","sendBackData","undefined","getMetadata","data","contentType","getDownloadURL","imageURL","pic","getClickedContact","getContactPic","getContactName","User","updateImage","setUpdateImages","clickedProfile","setClickedProfile","file","setFile","chosePic","setChosePic","styleObj","display","getDataFromUser","clicked","unselectable","htmlFor","cursor","onChange","files","accept","parentCallback","minWidth","background","signOut","Contacts","users","setUsers","picUpdate","setPicUpdate","picURL","setPicURL","getTimeofUpdatefromUser","childData","sendPicURL","getContactNameFromContacts","imgURL","childUID","getDataFromContacts","getUserDataFromContacts","Object","keys","filter","key","map","contacts","socket","VideoPlayer","stream","setStream","me","setMe","call","setCall","callAccepted","setCallAccepted","callEnded","setCallEnded","setName","idToCall","setIdToCall","myVideo","useRef","userVideo","connectionRef","videoDiv","pos1","pos2","pos3","pos4","closeDragElement","onmouseup","onmousemove","elementDrag","clientX","clientY","videoCallDiv","current","top","offsetTop","left","offsetLeft","io","navigator","mediaDevices","getUserMedia","audio","video","mandatory","maxWidth","maxHeight","currentStream","srcObject","emit","from","callerName","signal","isReceivedCall","onMouseDown","playsInline","muted","autoPlay","text","marginTop","e","destroy","disconnect","peer","Peer","initiator","trickle","userToCall","signalData","callUser","styles","justifyContent","Chat","recorders","gallery","dropArea","previousButton","nextButton","slideshow","getElementsByClassName","fileArray","arr","setArr","fileDropped","setFileDropped","fileDragged","setFileDragged","fileAdded","setFileAdded","setUserName","setImgURL","typedText","setTypedText","isContactSelected","setIsContactSelected","messages","setMessages","usingEmojis","setUsingEmojis","optionIconClassName","displayingMenu","setDisplayingMenu","recordingAudio","setRecordingAudio","aboutToCall","setAboutToCall","msgKey","textMessage","eventName","addEventListener","stopPropagation","handleGod","handleDragEnterOver","transform","classList","add","handleDragDrop","dataTransfer","reader","FileReader","readAsDataURL","onloadend","split","img","createElement","result","minHeight","appendChild","autoplay","controls","showArrows","previewFile","length","disabled","scrollWidth","offsetWidth","childNodes","element","onclick","tagName","cloneNode","childElementCount","removeChild","window","sendMessage","today","Date","date","getDate","getMonth","getFullYear","time","getHours","getMinutes","getSeconds","showMenu","parentElement","nodeName","hideMenu","displayMsgOptions","editButton","quoteButton","copyButton","removeButton","copyText","tempInputField","setAttribute","body","select","execCommand","remove","messageToDisplay","height","picLink","onDrop","onDragOver","onDragEnter","onDragLeave","i","item","onMouseOver","onMouseOut","zIndex","position","float","onSelect","native","msg","focus","onKeyPress","autoFocus","acceptedAudio","mediaStreamObject","cancel","mediaRecorder","MediaRecorder","dataArray","start","state","ev","stop","ondataavailable","onstop","audioBlob","Blob","audioURL","visibility","multiple","prepend","class","size","index","destinationFolder","folderName","displayFiles","Main","chatUserData","setChatUserData","chatUsername","setChatUsername","setPicLink","childName","PrivateRoute","RouteComponent","component","rest","render","routeProps","ResetPassword","setEmail","mailSend","setMailSend","sendPasswordResetEmail","ManageUser","setEmailVerified","setPassword","setConfirmPassword","passwordToReset","setPasswordToReset","resetDone","setResetDone","resetPassword","setResetPassword","actionCode","setActionCode","emailToVerify","setEmailToVerify","resetMsg","setResetMsg","getParameterByName","url","location","href","replace","results","RegExp","exec","decodeURIComponent","mode","applyActionCode","res","verifyPasswordResetCode","confirmPasswordReset","App","path","exact","Login","Signup","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.e9697a42.chunk.js","sourcesContent":["import firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/storage';\nimport 'firebase/database';\n\nvar firebaseConfig = {\n    apiKey: \"AIzaSyDm3P9134lOT85QloQ3z62fwvm-Ky40WC4\",\n    authDomain: \"demoproject-63717.firebaseapp.com\",\n    projectId: \"demoproject-63717\",\n    storageBucket: \"demoproject-63717.appspot.com\",\n    messagingSenderId: \"60046397751\",\n    appId: \"1:60046397751:web:9aa62545ced606b693cab2\",\n    measurementId: \"G-4PTMK0ZZ1W\"\n};\n  // Initialize Firebase\nconst fire = firebase.initializeApp(firebaseConfig);\n// firebase.analytics();\n\nexport default fire;","import React, {useEffect, useState} from 'react';\nimport fire from '../fire';\n\nexport const AuthContext = React.createContext();\n\nexport const AuthProvider = ({children}) => {\n    const [currentUser, setCurrentUser] = useState(null);\n\n    useEffect(()=>{\n        fire.auth().onAuthStateChanged((user)=>{\n            setCurrentUser(user);\n        });\n    }, []);\n\n    \n    return (\n        <AuthContext.Provider value = {{currentUser}}>{children}</AuthContext.Provider>\n    );\n}","import React, {useCallback, useEffect} from 'react';\nimport {useContext} from 'react';\nimport {withRouter, Redirect} from 'react-router';\nimport {Link} from 'react-router-dom';\nimport fire from '../fire';\nimport { AuthContext } from './Auth';\n\nimport './css/UI.css';\n\nvar emailVerified= null;\nconst Login = ({history}) => {\n    \n    const {currentUser} = useContext(AuthContext);\n\n    const removeError = () => {\n        document.getElementById('error').innerHTML = '';\n    }\n    \n    const loginUser = useCallback(async (event) => {\n        event.preventDefault();\n        const {email, password} = event.target.elements;\n        await fire.auth().signInWithEmailAndPassword(email.value, password.value).then(()=>{\n            fire.auth().onAuthStateChanged(user=>{\n                if(user!==null){\n                    emailVerified = user.emailVerified;\n                    // console.log('User Verified', emailVerified);\n                }\n            });\n            if(emailVerified===true){\n                history.push(\"/main\");\n                console.log('Login - Email Verified:', emailVerified);\n                return <Redirect uid={fire.auth().currentUser.uid} to='/main' />;\n            }\n            else{\n                history.push('/manage-user');  \n            }\n        })\n        .catch(error=>{\n            const err = document.getElementById('error');\n            switch(error.code){\n                case \"auth/user-not-found\" : err.innerHTML = 'User not found'; // error.message\n                break;\n                case 'auth/wrong-password' : err.innerHTML = 'Wrong Password';\n                break;\n                case 'auth/invalid-email' : err.innerHTML = 'Invalid Email';\n                break;\n                default: console.log(error.message);\n            }\n            if(document.getElementById('m')!==null){\n                document.getElementById('m').value = '';\n            }\n            if(document.getElementById('p')!==null){\n                document.getElementById('p').value = null;\n            }\n        });\n    },[history]);\n\n    useEffect(()=>{\n        console.log('LOGIN');\n    },[]);\n    \n    if(fire.auth().currentUser || emailVerified || (currentUser===null)){\n        // console.log(fire.auth().currentUser.emailVerified);\n        if(fire.auth().currentUser!==null){\n            if(fire.auth().currentUser.emailVerified===true)\n                return <Redirect uid={fire.auth().currentUser.uid} to='/main' />;\n            else\n                return <Redirect to='/manage-user' />;\n        }\n    }\n\n\n    return (\n        <div className=\"Login\">\n            <form onSubmit={loginUser}>\n                <h1>LOGIN</h1>\n                <div id='error' style={{paddingBottom: '2vh', color: 'darkgreen'}}></div>\n                <div className=\"input_div\"><input name='email' type=\"email\" placeholder=\"Email\" autoComplete=\"off\" id='m' onClick={removeError} /></div>\n                <div className=\"input_div\"><input type=\"password\" name='password' placeholder=\"Password\" id='p' onClick={removeError} /></div>\n                <button className='uiButtons' type=\"submit\">Login</button>\n                <div className='link'>Forgot your password?&nbsp;\n                    <Link to={{pathname: '/manage-user', type:'resetPassword'}}>Reset</Link>\n                </div>\n                <div className='link'>Don't have an account?&nbsp;\n                    <Link to='/signup'>Signup</Link>\n                </div>\n            </form>\n        </div>\n    );\n}\n\nexport default withRouter(Login);","import React, {useCallback} from 'react';\nimport {withRouter} from 'react-router';\nimport {Link} from 'react-router-dom';\nimport fire from '../fire';\nimport './css/UI.css';\n\nconst Signup = ({history}) => {\n\n    const removeError = () => {\n        document.getElementById('error').innerHTML = '';\n    }\n    \n    const signupUser = useCallback( async (event)=>{\n        event.preventDefault();\n        const {userName, email, password, confirmPassword} = event.target.elements;\n        var emailVerified = null;\n\n        if(confirmPassword.value===password.value && userName.value!==''){\n            await fire.auth().createUserWithEmailAndPassword(email.value, password.value).then(()=>{\n                fire.auth().onAuthStateChanged((user)=>{\n                    emailVerified = user.emailVerified;\n                    user.sendEmailVerification().then(()=>{\n                        console.log('Email Verification Sent');\n                    })\n                    .catch(error=>{\n                        console.log(`ErrorCode: ${error.code}, ErrorMessage: ${error.message}`);\n                    });\n                    fire.database().ref('users/'+user.uid).set({\n                        \"uid\" : user.uid,\n                        \"uname\" : userName.value,\n                    });\n                    fire.storage().ref(`users`).child(`${user.uid}/profile.jpg`).put(\"Default Profile\").then(()=>{\n                        console.log('Successfully Put Message in place of image');\n                    });\n                });\n                // history.push(\"/main\");\n                if(emailVerified===true){\n                    history.push(\"/main\");\n                }\n                else{\n                    history.push('/manage-user');\n                }\n            }).catch(error=>{\n                const err = document.getElementById('error');\n                switch(error.code){\n                    case \"auth/user-not-found\" : err.innerHTML = 'User not found'; // error.message\n                    break;\n                    case 'auth/wrong-password' : err.innerHTML = 'Wrong Password';\n                    break;\n                    case 'auth/invalid-email' : err.innerHTML = 'Invalid Email';\n                    break;\n                    case 'auth/email-already-in-use' : err.innerHTML = 'Email already in use';\n                    break;\n                    case 'auth/weak-password' : err.innerHTML = 'Password must be at least 6 characters';\n                    break;\n                    default: console.log(error.message);\n                }\n                document.getElementById('u').value='';\n                document.getElementById('m').value='';\n                document.getElementById('p').value=null;\n                document.getElementById('cp').value=null;\n            });\n        }\n        else{// Clear the input fields\n            const err = document.getElementById('error');\n            if(userName.value===''){\n                err.innerHTML = 'Invalid Username';\n            }\n            else{\n                err.innerHTML = 'Passwords don\\'t match';\n            }\n            document.getElementById('u').value='';\n            document.getElementById('m').value='';\n            document.getElementById('p').value=null;\n            document.getElementById('cp').value=null;\n        }\n    },[history]);\n\n    return (\n        <div className=\"Signup\" id='signUp'>\n            <form onSubmit={signupUser}>\n                <h1>SIGN&nbsp;UP</h1>\n                <div id='error' style={{paddingBottom: '2vh', color: 'darkgreen'}}></div>\n                <div className=\"input_div\"><input type=\"text\" placeholder=\"User Name\" autoComplete=\"off\" name='userName' id='u' onClick={removeError} /></div>\n                <div className=\"input_div\"><input type=\"email\" placeholder=\"Email\" autoComplete='off' autofill='off' name='email' id='m' onClick={removeError} /></div>\n                <div className=\"input_div\"><input type=\"password\" placeholder=\"Password\" name='password' id='p' onClick={removeError} /></div>\n                <div className=\"input_div\"><input type=\"password\" placeholder=\"Confirm Password\" name='confirmPassword' id='cp' onClick={removeError} /></div>\n                <button className='uiButtons' type=\"submit\">Sign Up</button>\n                <div className='link'>Already have an account?&nbsp;\n                    <Link to='/login'>Login</Link>\n                </div>\n            </form>\n        </div>\n    );\n}\n\nexport default withRouter(Signup);","import React,{ useEffect} from 'react';\nimport {Link} from 'react-router-dom';\nimport './css/UI.css'\n\nconst Home = () => {\n\n    useEffect(()=>{\n        \n    },[]);\n\n    return (\n        <div className=\"Home\">\n            <div>\n                <ul className='navUl' style={{listStyleType: 'none'}}>\n                    <li className='navItems' style={{width: '80%', textAlign: 'left'}}>HOME</li>\n                    <div className='navBar'>\n                        <li className='navItems' id='loginNav'><Link to='/login' tabIndex='0' style={{textDecoration:'none', padding: '2vh', borderRadius: '5px', color: 'black'}}>Login</Link></li>\n                        <li className='navItems' ><Link to='/signup' tabIndex='1' style={{textDecoration:'none', padding: '2vh', borderRadius: '5px', color: '#000'}}>Sign Up</Link></li>\n                    </div>\n                </ul>\n            </div>\n            <div className='Back'>\n                <div className='Title'>\n                    Welcome to one of the best<br/> Chat communities online\n                </div>\n                <img src='Assets/chat.png' alt='chatImage'/>\n            </div>\n        </div>\n    );\n}\n\nexport default Home;","export default __webpack_public_path__ + \"static/media/profile.8ae99660.jpg\";","import React, {useState, useEffect, useContext} from 'react';\nimport pic from '../Images/profile.jpg';\nimport fire from '../fire';\nimport { AuthContext } from './Auth';\n\nconst Contact = (props) => {\n\n    const [imgLink, setImageUrl] = useState('');\n    const [uname, setUname] = useState('');\n    const [lastMessage, setLastMessage] = useState('');\n    var images = document.querySelectorAll('img');\n\n    const {currentUser} = useContext(AuthContext);\n    images.forEach(image=>image.draggable = false);\n\n    fire.database().ref(`users/${props.uid}/contacts/${currentUser.uid}/lastMessage`).on( 'child_changed', (snapshot)=>{\n        setLastMessage(snapshot.val());\n    })\n\n    fire.database().ref(\".info/connected\").on('value', snapshot=>{\n        console.log(snapshot.val());\n    });\n\n    useEffect(()=>{\n        props.sendBackData(false);\n        \n        if(props.lastMessage!==undefined)\n            setLastMessage(props.lastMessage.lastMessage.lastMessage);\n        else\n            setLastMessage('');\n    },[props, currentUser]);\n\n\n    fire.auth().onAuthStateChanged((user)=>{\n        if(user){\n            fire.storage().ref(`users/${props.uid}/profile.jpg`).getMetadata().then(data=>{\n                if(data.contentType===\"image/jpg\" || data.contentType===\"image/jpeg\" || data.contentType===\"image/png\"){\n                    fire.storage().ref(`users/${props.uid}/profile.jpg`).getDownloadURL().then((imageURL)=>{\n                        setImageUrl(imageURL);\n                    });\n                }\n                else{\n                    setImageUrl(pic);\n                }\n            });\n        }\n        setUname(props.uname);\n    });\n\n    const chatWithContact = () => {\n        props.getClickedContact(props.uid);\n        props.getContactPic(imgLink);\n        props.getContactName(props.uname);\n    }\n    \n    return (\n        <div className='Contact' onClick={chatWithContact}>\n            <div className='section1'>\n                <img className='profileImages' src={imgLink} alt=''/>\n            </div>\n            <div className='section2'>\n                <h3>{uname}</h3>\n                <span>{lastMessage}</span>\n            </div>\n        </div>\n    )\n}\n\nexport default Contact;","import React, {useState, useContext} from 'react';\nimport fire from '../fire';\nimport {AuthContext} from './Auth';\nimport pic from '../Images/profile.jpg'\n\nconst User = (props) => {\n\n    const [imgLink, setImageUrl] = useState('');\n    const [updateImage, setUpdateImages] = useState(false);\n    const [clickedProfile, setClickedProfile] = useState(false);\n    const [file, setFile] = useState(null);\n    const [chosePic, setChosePic] = useState(false);\n    var images = document.querySelectorAll('img');\n    images.forEach(image=>image.draggable = false);\n\n\n    const styleObj = {\n        display: clickedProfile ? 'block' : 'none',\n    }\n\n    const chooseFile=(event)=>{\n        setFile(event.target.files[0]);\n        setChosePic(true);\n    }\n\n    const {currentUser} = useContext(AuthContext);\n\n    const uploadPic=()=>{\n        if(file!=null){\n            console.log(\"UPLOADING\");\n            fire.storage().ref('users/'+currentUser.uid+'/profile.jpg').put(file).then(()=>{\n                setUpdateImages(true);\n                props.parentCallback(updateImage);\n            });\n            // var ref = fire.storage().ref('users/'+currentUser.uid+'/profile.jpg');\n            // ref.getMetadata().then((data)=>{\n            //     console.log(\"User:\"+data.generation);\n            // });\n            if(updateImage){\n                setUpdateImages(false);\n            }\n            setClickedProfile(false);\n        }\n        else{\n            console.log(\"File is null\");\n        }\n        setChosePic(false);\n    }\n\n\n    fire.auth().onAuthStateChanged((user)=>{\n        if(user){\n            fire.storage().ref(`users/${user.uid}/profile.jpg`).getMetadata().then(data=>{\n                if(data.contentType===\"image/jpg\" || data.contentType===\"image/jpeg\" || data.contentType===\"image/png\"){\n                    fire.storage().ref(`users/${user.uid}/profile.jpg`).getDownloadURL().then((imageURL)=>{\n                        setImageUrl(imageURL);\n                    });\n                }\n                else{\n                    setImageUrl(pic);\n                }\n            });\n            props.getDataFromUser(props.uname);\n        }\n    });\n    \n    const clicked=()=>{\n        setClickedProfile(clickedProfile=>!clickedProfile);\n    }\n\n    const signOut = () => {\n        fire.auth().signOut();\n    }\n\n    const cancelPicUpload = () => {\n        setFile(null);\n        setChosePic(false);\n    }\n    \n    return (\n        <div className='User'>\n            <div className='section1' id=\"user\">\n                <img src={imgLink} alt='' unselectable='on' className='profileImages' onClick={clicked} />\n                <span>Welcome {props.uname}</span>\n            </div>\n            <div className='section2'></div>\n            <div className='uploadProfile' style={styleObj}>\n                <div className='userProfile_settings'>\n                    <div>Click on your profile to go back</div>\n                    <img src={imgLink} alt='' unselectable='on' className='settingsProfile' onClick={clicked} />\n                    <div className='UserButtons updatePic'>\n                        <i className=\"far fa-user-circle\"></i>\n                        <div className='updatePic_child'>\n                            <label id='PicInput_label' htmlFor='PicInput' style={{display: chosePic? 'none' : 'block', cursor: 'pointer'}}>Select Profile Image</label>\n                            <input type='file' onChange={chooseFile} id='PicInput' accept='image/*' />\n                            <div className='showChoiceButtons' style={{display: chosePic? 'block' : 'none'}} >\n                                <i className=\"far fa-times-circle\" id='cancelUpload' onClick={cancelPicUpload}></i>\n                                <i className=\"far fa-check-circle\" id='acceptUpload'  onClick={uploadPic}></i>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className='UserButtons signOut'>\n                        <i className=\"fas fa-power-off\"></i>\n                        <div style={{minWidth: '11vw', background: 'blue', textAlign: 'center', padding: '1vh', cursor: 'pointer'}} onClick = {signOut}>Sign Out</div>\n                    </div>\n                </div>\n                \n            </div>\n        </div>\n    )\n}\n\nexport default User;","import React, {useState, useEffect, useContext} from 'react';\nimport Contact from './Contact';\nimport fire from '../fire';\nimport User from './User';\nimport { AuthContext } from './Auth';\n\nconst Contacts = (props) => {\n\n    const [users, setUsers] = useState({});\n    const [picUpdate, setPicUpdate] = useState('');\n    const [picURL, setPicURL] = useState('');\n    const {currentUser} = useContext(AuthContext);\n\n    const getTimeofUpdatefromUser = async (childData) => {\n        console.log(childData);\n        await setPicUpdate(childData);\n        if(picURL!==\"\"){\n            props.sendPicURL(picURL);\n        }\n    }\n\n    const getContactName = async (uname) => {\n        await props.getContactNameFromContacts(uname);\n    }\n\n    const sendBackData = async (childData) => {\n        await setPicUpdate(childData);\n    }\n\n    const getContactPic = async (imgURL) => {\n        setPicURL(imgURL)\n        props.sendPicURL(imgURL);\n    }\n\n    const getClickedContact = async (childUID)=>{\n        // await setClickedUID(childUID);\n        props.getDataFromContacts(childUID);\n    }\n\n    //get username from User\n    const getDataFromUser=async(child)=>{\n        await props.getUserDataFromContacts(child);\n    }\n\n    useEffect(()=>{\n        try{\n            fire.database().ref().child('users').on('value', (snapshot)=>{\n                if(snapshot.val()!=null){\n                    setUsers({...snapshot.val()});\n\n                    // users[currentUser.uid].contacts.forEach(contact=>{\n                    //     console.log(contact);\n                    // })\n                }\n            });\n        } catch(error){\n            console.log(error);\n        }\n    },[picUpdate]);\n\n    \n    return (\n        <div className='Contacts'>\n            <div>\n                {\n                    Object.keys(users).filter((key)=>users[key].uid===currentUser.uid).map((key)=>(<User key={key} uid={currentUser.uid} uname={users[key].uname} parentCallback={getTimeofUpdatefromUser} getDataFromUser={getDataFromUser}/>))\n                }\n            </div>\n            <div className='searchBar'>\n                <div className='div_search'><i className=\"fas fa-search\"></i></div>\n                <input type='text' id='contactsBar' placeholder='Search chats & groups'/>\n            </div>\n            <div id='allContacts'>\n                {\n                    Object.keys(users).filter((key)=>users[key].uid!==currentUser.uid)\n                    .map((key)=>(<Contact key={key} uid={users[key].uid} uname={users[key].uname} sendBackData={sendBackData} updateImage={picUpdate} getClickedContact={getClickedContact} getContactPic={getContactPic} getContactName={getContactName} lastMessage={users[currentUser.uid].contacts[users[key].uid]}/>))\n                    // Object.keys(users)\n                    // .map((key)=>(<Contact key={key} uid={users[key].uid} uname={users[key].uname} sendBackData={sendBackData} updateImage={picUpdate} getClickedContact={getClickedContact} getContactPic={getContactPic} getContactName={getContactName}/>))\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default Contacts;","import React, { useState, useRef, useEffect, useContext} from 'react';\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\nimport {io} from 'socket.io-client';\nimport Peer from 'simple-peer';\nimport { AuthContext } from './Auth';\n\n// var socket = io('https://blabber-complete-server.herokuapp.com/);\nvar socket = null;\n\nconst VideoPlayer = (props) => {\n    \n    const [stream, setStream] = useState(null);\n    const [me, setMe] = useState('');\n    const [call, setCall] = useState('');\n    const [callAccepted, setCallAccepted] = useState(false);\n    const [callEnded, setCallEnded] = useState(false);\n    const [name, setName] = useState('');\n    const [idToCall, setIdToCall] = useState('');\n\n    const {currentUser} = useContext(AuthContext);\n    const myVideo = useRef();\n    const userVideo = useRef();\n    // const userVideo = document.getElementById('userVideo')\n    const connectionRef = useRef();\n    const videoDiv = useRef();\n    var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;\n\n    useEffect(() => {\n        socket = io('https://blabber-complete-server.herokuapp.com/');\n        navigator.mediaDevices.getUserMedia({\n            audio: true, video: {\n                mandatory: {\n                    maxWidth: 640,\n                    maxHeight: 480\n                }\n            }\n        }).then((currentStream)=>{\n            setStream(currentStream);\n            myVideo.current.srcObject = currentStream;\n        }).catch(err=>{\n            console.log('Permission to access video is denied');\n        });\n        \n        socket.emit('whatDoYouWant');\n        socket.on('gimmeYourDetails', (id) => {\n            var user = {name: props.name, uid: currentUser.uid};\n            socket.emit('alreadySent', user);\n            setMe(id);\n        })\n\n        socket.on('calluser', ({from, name: callerName, signal})=>{\n            setCall({isReceivedCall: true, from, name: callerName, signal})\n        });\n    }, [props, currentUser, callEnded]);\n\n    function closeDragElement() {\n        document.onmouseup = null;\n        document.onmousemove = null;\n    }\n    function elementDrag(event){\n        event.preventDefault();\n        pos1 = pos3 - event.clientX;\n        pos2 = pos4 - event.clientY;\n        pos3 = event.clientX;\n        pos4 = event.clientY;\n        // set the element's new position\n        const videoCallDiv = videoDiv.current;\n        videoCallDiv.style.top = (videoCallDiv.offsetTop - pos2) + \"px\";\n        videoCallDiv.style.left = (videoCallDiv.offsetLeft - pos1) + \"px\";\n    }\n\n    const dragMouseDown = (event) => {\n        event.preventDefault();\n        pos3 = event.clientX;\n        pos4 = event.clientY;\n        document.onmouseup = closeDragElement;\n        document.onmousemove = elementDrag;\n    }\n\n    const answerCall = () => {\n        setCallAccepted(true);\n        setCallEnded(false);\n\n        const peer = new Peer({initiator: false, trickle: false, stream});\n\n        peer.on('signal', (data)=>{\n            socket.emit('answercall', {signal: data, to: call.from});\n        });\n\n        peer.on('stream', (currentStream)=>{\n            userVideo.current.srcObject = currentStream;\n        });\n\n        peer.signal(call.signal);\n        connectionRef.current = peer;\n    }\n\n    const callUser = (id) => {\n        const peer = new Peer({initiator: true, trickle: false, stream});\n\n        peer.on('signal', (data)=>{\n            socket.emit('calluser', {userToCall: id, signalData: data, from: me, name});\n        });\n\n        peer.on('stream', (currentStream)=>{\n            userVideo.current.srcObject = currentStream;\n        });\n        socket.on('callaccepted', (signal)=>{\n            setCallAccepted(true);\n            peer.signal(signal);\n        });\n\n        connectionRef.current = peer;\n    }\n\n    const leaveCall = () => {\n        connectionRef.current.destroy();\n        socket.disconnect();\n        // window.location.reload();\n        setStream(null);\n        setMe('');\n        setCall('');\n        setCallAccepted(false);\n        setCallEnded(false);\n        setName('');\n        setIdToCall('');\n        setCallEnded(true);\n    }\n\n    const closeVideoWindow = () => {\n        console.log('Clicking');\n        const videoCallDiv = videoDiv.current;\n        videoCallDiv.style.display = 'none';\n    }\n\n    return (\n        <div className='VideoPlayer' ref={videoDiv}>\n            <div className='windowClose' style={{display: callAccepted && !callEnded ? 'none' : 'block'}}>\n                <i className=\"fas fa-window-close\" onClick={closeVideoWindow}></i>\n            </div>\n            <div id='videoPlayer_topBar' onMouseDown={dragMouseDown}>Click to move</div>\n            <div>\n                {\n                    stream && (\n                        <div id='myVideoFrame'>\n                            {/* <div>{name || 'Name'}</div> */}\n                            <video playsInline muted ref={myVideo} autoPlay id='myVideo'></video>\n                        </div>\n                    )\n                }\n                <div id='userVideoFrame'>\n                    {\n                        callAccepted && !callEnded && (\n                            <video playsInline ref={userVideo} autoPlay id='userVideo'></video>\n                            // console.log(userVideo),\n                        )\n                    }\n                </div>\n            </div>\n            <div className='Options'>\n                <div>\n                    <div>\n                        <div>Copy your ID</div>\n                        <CopyToClipboard text={me}>\n                            <i className=\"far fa-clipboard\" style={{marginTop: '20px'}}></i>\n                        </CopyToClipboard>\n                    </div>\n                    <div>\n                        <input id='input_special1' type='text' value={idToCall} onChange={e=>setIdToCall(e.target.value)}  />\n                            {\n                            callAccepted && !callEnded ? (\n                                <i className=\"fas fa-phone-slash\" onClick={leaveCall}></i>\n                            ) : (\n                                <i className=\"fas fa-phone\" onClick={()=>callUser(idToCall)} id='letsCall'></i>\n                            )\n                        }\n                    </div>\n                </div>\n                <div className='Notifications'>\n                {\n                    call.isReceivedCall && !callAccepted && (\n                        <div styles={{display: 'flex', justifyContent: 'center'}}>\n                            <h1>{props.name} is calling</h1>\n                            <button onClick={answerCall}>Answer</button>\n                        </div>\n                    )\n                }\n                </div>\n            </div>\n\n        </div>\n    )\n}\nexport default VideoPlayer","import React,{useState, useEffect, useContext} from 'react';\nimport 'emoji-mart/css/emoji-mart.css';\nimport { Picker } from 'emoji-mart';\nimport '../components/css/Chat.css';\nimport fire from '../fire';\nimport {AuthContext} from './Auth';\nimport VideoPlayer from './VideoPlayer';\n\nconst Chat = (props) => {\n\n    // Dropping Files\n    var recorders = [];\n    var gallery = document.getElementById('gallery');\n    const dropArea = document.getElementById('drop-area');\n    var previousButton = document.getElementById('prev');  \n    var nextButton = document.getElementById('next');\n    // let progressBar = document.getElementById('progress-bar');\n    var slideshow = document.getElementsByClassName('mySlides')[0];\n    var fileArray = [];\n\n    // JSX\n    const [arr, setArr] = useState([]);\n    const [fileDropped, setFileDropped] = useState(false);\n    const [fileDragged, setFileDragged] = useState(false);\n    const [fileAdded, setFileAdded] = useState(false);\n    const [userName, setUserName] = useState('');\n    const [imgURL, setImgURL] = useState('');\n    const [typedText, setTypedText] = useState('');\n    const [isContactSelected, setIsContactSelected] = useState(false);\n    const {currentUser} = useContext(AuthContext);\n    const [messages, setMessages] = useState({});\n    const [usingEmojis, setUsingEmojis] = useState(false);\n    const optionIconClassName = 'fas fa-chevron-circle-down';\n    const [displayingMenu, setDisplayingMenu] = useState(false);\n    const [recordingAudio, setRecordingAudio] = useState(false);\n    const [aboutToCall, setAboutToCall] = useState(false);\n    var msgKey = '';    \n    var textMessage = document.getElementsByClassName('inputMessage')[0];\n    var ul = document.getElementsByClassName('messages')[0];\n\n    // ES6\n    function initializeProgress(numFiles){\n        // progressBar.value = 0;\n        // setFilesToDo(numFiles);\n    }\n    ;['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName=>{\n            document.addEventListener(eventName, (e)=>{\n            e.preventDefault();\n            e.stopPropagation();\n            if(isContactSelected){\n                setFileDragged(false);\n                dropArea.style.display = 'none';\n            }\n        }, false);\n    });\n    const handleGod = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        if(isContactSelected && (e.type!=='drop') && (e.type!=='dragleave')){\n            setFileDragged(true);\n        }\n    }\n    const handleDragEnterOver = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        if(isContactSelected){\n            setFileDragged(true);\n            dropArea.style.display='block';\n            dropArea.style.transform = 'translateY(-100%)';\n            dropArea.classList.add('highlight');\n        }\n    }\n    const handleDragLeave = (e) => {\n        // e.preventDefault();\n        // e.stopPropagation();\n        dropArea.classList.remove('highlight');\n        setFileDragged(false);\n        dropArea.style.display = 'none';\n    }\n    const handleDragDrop = (e) => {\n        setFileDropped(true);\n        var dt = e.dataTransfer;\n        var files = dt.files;\n        fileArray = [...files];\n        setFileDragged(false);\n        fileArray.forEach(file=>{\n            previewFile(file);\n        })\n        setFileAdded(true);\n        initializeProgress(fileArray.length);\n        setArr([...fileArray]);\n        document.getElementById('uploadButton').disabled = false;\n    }\n        \n    function previewFile(file){\n        let reader = new FileReader();\n        reader.readAsDataURL(file);\n        reader.onloadend = function(){\n            var type = file.type.split(\"/\")[0];\n            switch(type){\n                case 'image': var img = document.createElement('img');\n                    img.src = reader.result;\n                    img.style.minWidth = '120px';\n                    img.style.minHeight = '120px';\n                    img.className = 'galleryChild';\n                    img.draggable = false;\n                    gallery.appendChild(img);\n                    break;\n                case 'video': var video = document.createElement('video');\n                    video.src = reader.result;\n                    video.style.minWidth = '120px';\n                    video.style.minHeight = '120px';\n                    video.autoplay = false;\n                    video.controls = false;\n                    video.className = 'galleryChild';\n                    gallery.appendChild(video);\n                    break;\n                case 'application': console.log(file.type.split(\"/\")[1]);\n                    break;\n                default: console.log('Unknown Type');\n            }\n            showArrows();\n        }\n    }\n    window.addEventListener('resize', ()=>{\n        showArrows();\n    });\n    function showArrows(){\n        if(gallery!==null){\n            if(gallery.scrollWidth > gallery.offsetWidth){\n                previousButton.style.display = 'block';\n                nextButton.style.display = 'block';\n            }\n            else{\n                previousButton.style.display = 'none';\n                nextButton.style.display = 'none';\n            }\n            // Preview element on click\n            gallery.childNodes.forEach((element)=>{\n                element.onclick = () => {\n                    console.log('Length', fileArray.length);\n                    console.log(element.tagName);\n                    if(element.tagName==='VIDEO'){\n                        element.controls = true;\n                    }\n                    var e=element.cloneNode(true);\n                    if(slideshow.childElementCount>0){\n                        slideshow.removeChild(slideshow.childNodes[0]);\n                    }\n                    slideshow.appendChild(e);\n                    element.controls = false;\n                }\n            });  \n        }\n    }\n    const showNextSlide = () => {\n        gallery.appendChild(gallery.removeChild(gallery.childNodes[0]));\n    }\n    const previousSlide = () => {\n        gallery.prepend(gallery.removeChild(gallery.childNodes[gallery.childElementCount-1]));\n    }\n    const displayFiles = (date, time, size, folderName, type) => {\n        for(let i=0;i<size;i++){\n            fire.storage().ref(`users/${currentUser.uid}/${folderName}/${date}_${time}_${i}`).getDownloadURL().then((imageURL)=>{\n                // console.log('File Found', i);\n                fire.database().ref(`users/${currentUser.uid}/contacts/${props.uid}/messages`).child(`${date}_${time}_${i}`).set({\n                    \"date\" : date,\n                    \"time\" : time,\n                    \"message\" : null,\n                    \"file\" : imageURL,\n                    \"uid\" : currentUser.uid,\n                    \"type\" : type\n                }).then(()=>{\n                    fire.database().ref(`users/${props.uid}/contacts/${currentUser.uid}/messages`).child(`${date}_${time}_${i}`).set({\n                        \"date\" : date,\n                        \"time\" : time,\n                        \"message\" : null,\n                        \"file\" : imageURL,\n                        \"uid\" : currentUser.uid,\n                        \"type\" : type\n                    })\n                })\n            })\n            .catch(err=>console.log(err));\n        }\n    }\n    const uploadFiles = () => {\n        document.getElementById('uploadButton').disabled = true;\n        gallery.innerHTML = '';\n        // progressBar.style.display = 'block';\n        // var ele = document.getElementsByClassName('.BigPreview');\n        document.getElementsByClassName('mySlides')[0].innerHTML='';\n        var size = 0, index = 0;\n        arr.forEach((file)=>{\n            var today = new Date();\n            var date = `${today.getDate()}-${today.getMonth()+1}-${today.getFullYear()}`;\n            var time = `${today.getHours()}-${today.getMinutes()}-${today.getSeconds()}`;\n            var type = file.type.split(\"/\")[0];\n            var destinationFolder = '';\n            switch(type){\n                case 'image' : destinationFolder = 'Images';\n                break;\n                case 'video' : destinationFolder = 'Video';\n                break;\n                case 'application' : destinationFolder = 'Application';\n                break;\n                case 'audio' : destinationFolder = 'Audio';\n                break;\n                default: destinationFolder = 'Default';\n            }\n            fire.storage().ref(`users/${currentUser.uid}/${destinationFolder}`).child(`${date}_${time}_${size}`).put(file).then(()=>{\n                console.log('Uploaded', `${date}_${time}_${size}`);\n                ++index;\n                if(index===arr.length){\n                    displayFiles(date, time, arr.length, destinationFolder, type);\n                }\n            })\n            .catch(err=>{\n                console.log(err);\n            });\n            ++size;\n        });\n        \n        setArr([]);\n        setFileAdded(false);\n        setFileDropped(false);\n        previousButton.style.display = 'none';\n        nextButton.style.display = 'none';\n        console.log('OUT');\n        // var tempImg = document.createElement('img');\n        // document.getElementsByClassName('mySlides')[0].appendChild(tempImg);\n        // document.getElementsByClassName('mySlides')[0].childNodes[0].className = 'BigPreview';\n    }\n    \n    const sendMessage=()=>{\n        if(typedText.length !== 0){\n            var today = new Date();\n            var date = `${today.getDate()}-${today.getMonth()+1}-${today.getFullYear()}`;\n            // var time = `${today.getHours()}-${today.getMinutes()}-${today.getSeconds()}`;\n            var time = `${today.getHours()}:${today.getMinutes()}:${today.getSeconds()}`;\n            // fire.database().ref(`users/${currentUser.uid}/contacts/${props.uid}/messages`).child(`${date}_${time}`).set({\n            fire.database().ref(`users/${currentUser.uid}/contacts/${props.uid}/messages`).push().set({\n                \"date\" : date,\n                \"time\" : time,\n                \"message\" : typedText,\n                \"uid\" : currentUser.uid,\n            });\n            // fire.database().ref(`users/${props.uid}/contacts/${currentUser.uid}/messages`).child(`${date}_${time}`).set({\n            fire.database().ref(`users/${props.uid}/contacts/${currentUser.uid}/messages`).push().set({\n                \"date\" : date,\n                \"time\" : time,\n                \"message\" : typedText,\n                \"uid\" : currentUser.uid,\n            });\n            fire.database().ref(`users/${props.uid}/contacts/${currentUser.uid}/lastMessage`).set({\n                \"lastMessage\" : typedText\n            });\n            fire.database().ref(`users/${currentUser.uid}/contacts/${props.uid}/lastMessage`).set({\n                \"lastMessage\" : typedText\n            })\n            textMessage.value = '';\n            setTypedText('');\n        }\n    }\n\n    const updateText = (event) => {\n        setTypedText(event.target.value);\n    }\n    const pressedEnter = (event) => {\n        if(event.key==='Enter'){\n            sendMessage();\n        }\n    }\n    const addEmoji = (event) => {\n        if(textMessage==null){\n          setTypedText((msg)=>msg+event.native);\n        }\n        else{\n          textMessage.value += event.native;\n          setTypedText((msg)=>msg+event.native);\n        }\n        textMessage.focus();\n    }\n    const usePicker = () => {\n        setUsingEmojis((usingEmojis)=>!usingEmojis);\n    }\n    const showMenu = (event) => {\n        if(event.target.tagName==='LI'){\n            event.target.childNodes[1].childNodes[0].className = optionIconClassName;\n        }\n        else if(event.target.tagName==='SPAN'){\n            if(event.target.childNodes[1]!==undefined){\n                event.target.parentElement.childNodes[1].childNodes[0].className = optionIconClassName;\n            }\n            else{\n                event.target.childNodes[0].className = optionIconClassName;\n            }\n        }\n        else if(event.target.tagName==='DIV' && event.target.parentElement.nodeName==='SPAN'){\n            event.target.parentElement.parentElement.childNodes[1].childNodes[0].className = optionIconClassName;\n        }\n        else if(event.target.tagName==='I'){\n            event.target.className = optionIconClassName;\n        }\n    }\n    const hideMenu = (event) => {\n        if(event.target.tagName==='LI'){\n            event.target.childNodes[1].childNodes[0].className = \"\";\n        }\n        else if(event.target.tagName==='SPAN'){\n            if(event.target.childNodes[1]!==undefined){\n                event.target.parentElement.childNodes[1].childNodes[0].className = \"\";\n            }\n            else{\n                event.target.childNodes[0].className = \"\";\n            }\n        }\n        else if(event.target.tagName==='DIV' && event.target.parentElement.nodeName==='SPAN'){\n            event.target.parentElement.parentElement.childNodes[1].childNodes[0].className = \"\";\n        }\n    }\n\n    const displayMsgOptions=(event)=>{\n        if(event.target.className===optionIconClassName){\n            msgKey = event.target.id;\n            event.target.innerHTML = `<section id='menuSection' style={{background:'#fff'}}>\n            <button id='edit'>Edit</button>\n            <button id='quote'>Quote</button>\n            <button id='copy'>Copy</button>\n            <button id='remove'>Remove</button>\n            </section>`\n            setDisplayingMenu(true);\n            var editButton = document.getElementById('edit');\n            var quoteButton = document.getElementById('quote');\n            var copyButton = document.getElementById('copy');\n            var removeButton = document.getElementById('remove');\n            editButton.onclick = () => {\n                console.log('Edit function');\n            }\n            quoteButton.onclick = () => {\n                console.log('Quote function');\n            }\n            copyButton.onclick = () => {\n                var copyText = event.target.parentElement.parentElement.childNodes[0].childNodes[0].data;\n                var tempInputField = document.createElement('input');\n                tempInputField.setAttribute('value', copyText);\n                document.body.appendChild(tempInputField);\n                tempInputField.select();\n                document.execCommand('copy');\n                document.body.removeChild(tempInputField);\n                // alert('Copied Text');\n            }\n            removeButton.onclick = () => {\n                fire.database().ref(`users/${currentUser.uid}/contacts/${props.uid}/messages/${msgKey}`).remove().then(()=>{\n                    console.log('Data removed successfully');\n                }).catch(err=>{\n                    console.log('Error in deleting data');\n                });\n                fire.database().ref(`users/${props.uid}/contacts/${currentUser.uid}/messages/${msgKey}`).remove().then(()=>{\n                    console.log('Data removed successfully');\n                }).catch(err=>{\n                    console.log('Error in deleting data');\n                });\n            }\n        }\n    }\n    const checkClick=(event)=>{\n        var i = document.querySelectorAll(`i`);\n        if(displayingMenu){\n            i.forEach((item)=>item.innerHTML='');\n            setDisplayingMenu(false);\n        }\n        var j = document.querySelectorAll('.fa-chevron-circle-down');\n        j.forEach((item)=>item.className='')\n    }\n\n    const recordAudio = () => {\n        console.log('Recording Audio...');\n        var acceptedAudio = false;\n        setRecordingAudio(true);\n        var audioConstraints = {audio: true};\n        navigator.mediaDevices.getUserMedia(audioConstraints).then((mediaStreamObject)=>{\n\n            let cancel = document.getElementById('cancel');\n            let accept = document.getElementById('accept');\n            let mediaRecorder = new MediaRecorder(mediaStreamObject);\n            let dataArray = [];\n            recorders.push(mediaRecorder.stream);\n            mediaRecorder.start();\n            console.log('Media Recorder', mediaRecorder.state);\n            cancel.addEventListener('click', function (ev) {\n                if(mediaRecorder.state!=='inactive')\n                    mediaRecorder.stop();\n                setRecordingAudio(false);\n            });\n            accept.addEventListener('click', function (ev) {\n                if(mediaRecorder.state!=='inactive')\n                    mediaRecorder.stop();\n                setRecordingAudio(false);\n                acceptedAudio = true;\n            });\n            mediaRecorder.ondataavailable = function (ev) {\n                dataArray.push(ev.data);\n            }\n            mediaRecorder.onstop = function (ev) {\n                if(acceptedAudio){\n                    let audioBlob = new Blob(dataArray,{ 'type': 'audio/mp3;' });    // blob of type mp3\n                    dataArray = [];\n                    var today = new Date();\n                    var date = `${today.getDate()}-${today.getMonth()+1}-${today.getFullYear()}`;\n                    var time = `${today.getHours()}-${today.getMinutes()}-${today.getSeconds()}`;\n                    fire.storage().ref(`users/${currentUser.uid}/Audio`).child(`${date}_${time}`).put(audioBlob).then(()=>{\n    \n                        fire.storage().ref(`users/${currentUser.uid}/Audio/${date}_${time}`).getDownloadURL().then((audioURL)=>{\n                            fire.database().ref(`users/${currentUser.uid}/contacts/${props.uid}/messages`).child(`${date}_${time}`).set({\n                                \"date\" : date,\n                                \"time\" : time,\n                                \"message\" : null,\n                                \"file\" : audioURL,\n                                \"uid\" : currentUser.uid,\n                                \"type\" : 'audio'\n                            }).then(()=>{console.log('Updated to db')}).catch(err=>console.log(err));\n                        });\n                    });\n                }\n            }\n            console.log('Recorders', recorders);\n        })\n        .catch(error=>{\n            console.log('Error');\n        })\n    }\n    const messageToDisplay = (messages, key) => {\n        if(messages[key].message){\n            return messages[key].message;\n        }\n        else{\n            switch(messages[key].type){\n                case 'audio': return <audio src={messages[key].file} controls></audio>\n                case 'image': return <img src={messages[key].file} alt='' style={{width: '100px', height: '100px'}}/>\n                case 'video': return <video src={messages[key].file} style={{width: '360px', height: '240px'}} controls></video>\n                default: console.log('Unaccepted file type', messages[key].type);\n            }\n        }\n    }\n    useEffect(()=>{\n        if(props.uid!==\"\"){\n            setIsContactSelected(true);\n            setUserName(props.uname);\n            setImgURL(props.picLink);\n            fire.database().ref(`users/${currentUser.uid}/contacts/${props.uid}/messages`).on('value',(snapshot)=>{\n                setMessages({...snapshot.val()});\n            });\n        }\n        else{\n            setIsContactSelected(false);\n        }\n    },[currentUser, props]);\n\n    return (\n        <div id='god' onDrop={e => handleGod(e)} onDragOver={e => handleGod(e)} onDragEnter={e => handleGod(e)} onDragLeave={e => handleGod(e)}>\n            <div className='Chat' onClick={checkClick} style={{display: (fileDragged||fileDropped||fileAdded||fileArray.length!==0)? 'none': 'block'}}>\n                <div className='contactNotSelected' style={{display: isContactSelected ? \"none\" : \"block\"}}>\n                    <h1>Hello {props.user}</h1>\n                </div>\n                <div className='userChat' style={{display: isContactSelected ? \"block\" : \"none\"}}>\n                    <div className='chatName'>\n                        <img className='profileImages' src={imgURL} alt='Profile Pic' />\n                        <div className='details'>\n                            <h2>{userName}</h2>\n                            {/* <h3>Last Seen: ???</h3> */}\n                        </div>\n                        <div className='phoneCall'><i className=\"fas fa-phone\"></i></div>\n                        <div className='videoCall'><i className=\"fas fa-video\" onClick={()=>setAboutToCall(true)}></i></div>\n                    </div>\n                    <div className='div_messages' style={{height: usingEmojis ? \"47vh\" : \"70vh\"}}>\n                        <ul className='messages'>\n                        {\n                            Object.keys(messages).map((key, i)=>{\n                                if(messages[key].uid===props.uid)\n                                // Display the messages menu\n                                    return (<li key={key} className='thisIsNotUser' onMouseOver={showMenu} onMouseOut={hideMenu}>\n                                {/* Without the messages menu */}\n                                    {/* return (<li key={key} className='thisIsNotUser'> */}\n                                    <span className='msgSpan'>\n                                        {\n                                            messageToDisplay(messages, key)\n                                        }\n                                        <div className=\"time\">{messages[key].time}</div>\n                                    </span>\n                                    <span className='space' style={{background: \"rgba(0, 0, 0, 0)\", width: \"2vw\", height: \"4vh\"}}>\n                                        <i className=\"\" id={key} onClick={displayMsgOptions} style={{zIndex: '4 !important', position: 'absolute', padding: 0, float: 'right'}}></i>\n                                    </span>\n                                    </li>)\n                                return (<li key={key} className='thisIsUser' onMouseOver={showMenu} onMouseOut={hideMenu}>\n                                {/* return (<li key={key} className='thisIsUser'> */}\n                                    <span className='msgSpan'>\n                                        {\n                                            messageToDisplay(messages, key)\n                                        }\n                                        <div className=\"time\">{messages[key].time}</div>\n                                    </span>\n                                    <span className='space' style={{background: \"rgba(0, 0, 0, 0)\", width: \"2vw\", height: \"4vh\"}}>\n                                        <i className=\"\" id={key} onClick={displayMsgOptions} style={{zIndex: '4 !important', position: 'absolute', padding: 0, float: 'right'}}></i>\n                                    </span>\n                                </li>)\n                            })\n                        }\n                        </ul>\n                    </div>\n                    <div style={{background:'#000', height: usingEmojis ? '23vh' : '0vh'}}>\n                        {usingEmojis && (<Picker set='twitter' onSelect={addEmoji} />)}\n                    </div>\n                    <div className='div_type_message'>\n                        <div className='emoji' onClick={usePicker}><i className=\"far fa-laugh-beam\"></i></div>\n                        <div className='input_sendIcon_div'>\n                            <input className='inputMessage' type='text' onKeyPress={pressedEnter} onChange={updateText} autoComplete='off' placeholder='Type a message' autoFocus/>\n                            <i className=\"fas fa-paper-plane\" id='sendIcon' onClick={sendMessage}></i>\n                        </div>\n                        <div className='voiceMessage'>\n                            <i className=\"fas fa-microphone-alt\" onClick={recordAudio} style={{display: recordingAudio? 'none' : 'block'}}></i>\n                            <div style={{display: recordingAudio? 'block' : 'none'}} className='audio_div'>\n                                <i className=\"far fa-times-circle\" id='cancel'></i>\n                                <i className=\"far fa-check-circle\" id='accept'></i>\n                            </div>\n                        </div>\n                    </div>\n                </div>        \n            </div>\n            <div id='drag' style={{display: (fileDragged||fileDropped)? 'block': 'none'}} onDragOver={e=>handleDragEnterOver(e)} onDragEnter={e=>handleDragEnterOver(e)} >\n                <div className='file_dropped' style={{visibility: fileAdded? 'visible' : 'hidden'}}>\n                    <div className='slideshow-container'>\n                        <div className=\"mySlides fade\"></div><br />\n                    </div>\n                    <input type='file' id=\"fileElem\" multiple accept=\"*\" />\n                    {/* <form className=\"my-form\">\n                        <label htmlFor=\"fileElem\" className=\"button\">Select some files</label>\n                    </form> */}\n                    <div className='galleryContainer'>\n                        <span id=\"prev\" onClick={previousSlide}>&#10094;</span>\n                        <div id='gallery'></div>\n                        <span id=\"next\" onClick={showNextSlide}>&#10095;</span>\n                    </div>\n                    {/* <progress id=\"progress-bar\" max={100}></progress> */}\n                    <i class=\"fas fa-upload\" onClick={uploadFiles} id='uploadButton'></i>\n                    {/* <button type='button'>Upload</button> */}\n                </div>\n                <div id='drop-area' style={{display: fileDragged? 'block': 'none'}} onDragLeave={e=>handleDragLeave(e)} onDrop={e=>handleDragDrop(e)}></div>\n            </div>\n            <div>\n                {\n                    aboutToCall && (\n                        <VideoPlayer name={props.user}/>\n                    )\n                }\n            </div>\n        </div>\n    );\n}\n\nexport default Chat;","import React,{useState} from 'react';\nimport './css/Chat.css';\nimport Contacts from './Contacts';\nimport Chat from './Chat';\n// import {AuthContext} from './Auth';\n\nconst Main = () => {\n    const [chatUserData, setChatUserData] = useState('');\n    const [chatUsername, setChatUsername] = useState('');\n    const [picLink, setPicLink] = useState('');\n    const [userName, setUserName] = useState('');\n\n    const getDataFromContacts=async(childData)=>{\n        await setChatUserData(childData);\n    }\n\n    const getContactNameFromContacts = async (child) => {\n        setChatUsername(child);\n    }\n\n    const sendPicURL = async (imgLink) => {\n        await setPicLink(imgLink);\n    }\n    const getUserDataFromContacts=async(childName)=>{\n        await setUserName(childName);\n    }\n\n    return (\n        <div className='Main'>\n            <div className='chatSection'>\n                <Contacts getDataFromContacts={getDataFromContacts} sendPicURL={sendPicURL} getContactNameFromContacts={getContactNameFromContacts} getUserDataFromContacts={getUserDataFromContacts}/>\n                <Chat uid={chatUserData} uname={chatUsername} picLink={picLink} user={userName}/>\n            </div>\n        </div>\n    );\n}\n\nexport default Main;","import React, {useContext} from 'react';\nimport {Route, Redirect} from 'react-router-dom';\nimport {AuthContext} from './Auth';\n\nconst PrivateRoute = ({component: RouteComponent, ...rest}) => {\n    const {currentUser} = useContext(AuthContext);\n    return <Route {...rest} render={routeProps => !!currentUser ? (<RouteComponent {...routeProps} />) : (<Redirect to={'/login'} />)} />\n}\n\nexport default PrivateRoute;","import React, {useEffect, useState} from 'react';\nimport fire from '../fire';\n\nconst ResetPassword = () => {\n\n    const [email, setEmail] = useState('');\n    const [mailSend, setMailSend] = useState(false);\n\n    useEffect(()=>{}, [mailSend]);\n\n    const sendPasswordResetEmail = (event) => {\n        event.preventDefault();\n        fire.auth().sendPasswordResetEmail(email).then(()=>{\n            console.log('Password Reset Email send');\n        }).catch(err=>{\n            console.log('Error:', err);\n        });\n        setMailSend(true);\n        setEmail('');\n    };\n\n    return (\n        <div className='ManageUser'>\n            <div style={{display: mailSend ? 'none' : 'block'}}>\n                <form onSubmit={sendPasswordResetEmail}>\n                    <input type='email' value={email} placeholder='Enter your email' onChange={(event)=>setEmail(event.target.value)}/>\n                    <button className = 'uiButtons' type='submit'>Reset</button>\n                </form>\n            </div>\n            <div style={{display: mailSend? 'block': 'none', color: 'white'}}>Check your email for password reset link</div>\n        </div>\n    )\n}\n\nexport default ResetPassword;\n","import React, {useState, useEffect} from 'react';\nimport {Redirect} from 'react-router-dom';\nimport fire from '../fire';\n\nconst ManageUser = (props) => {\n\n    const [emailVerified, setEmailVerified] = useState(false);\n    const [password, setPassword] = useState('');\n    const [confirmPassword, setConfirmPassword] = useState('');\n    const [passwordToReset, setPasswordToReset] = useState(false);\n    const [mailSend, setMailSend] = useState(false);\n    const [resetDone, setResetDone] = useState(false);\n    const [resetPassword, setResetPassword] = useState(false);\n    const [actionCode, setActionCode] = useState('');\n    const [email, setEmail] = useState('');\n    const [emailToVerify, setEmailToVerify] = useState(false);\n    const [resetMsg, setResetMsg] = useState('');\n    \n\n    fire.auth().onAuthStateChanged(user=>{\n        if(user===null){\n            setEmailVerified(false);\n        }\n        else{\n            setEmailVerified(user.emailVerified);\n        }\n    });\n\n    const sendPasswordResetEmail = (event) => {\n        event.preventDefault();\n        fire.auth().sendPasswordResetEmail(email).then(()=>{\n            console.log('Password Reset Email send');\n            setResetMsg('Check your email for the password reset link');\n        }).catch(err=>{\n            if(err.code===\"auth/user-not-found\"){\n                setResetMsg(\"There is no user record corresponding to this email.\");\n            }\n            else{\n                setResetMsg(\"There is an error related to the submitted credentials\");\n            }\n        });\n        setMailSend(true);\n        setEmail('');\n    };\n\n    const getParameterByName = (name) => {\n        const url = window.location.href;\n        name = name.replace(/[\\][\\]]/g, \"\\\\$&\");\n        const regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n        results = regex.exec(url);\n        if (!results) return null;\n        const decodedURIComponent = decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n        return decodedURIComponent;\n    }\n\n    const updatePassword = (event) => {\n        event.preventDefault();\n        if(password===confirmPassword){\n            fire.auth().confirmPasswordReset(actionCode, password).then(()=>{\n                console.log('Password Set Successfully');\n                setResetDone(true);\n            }).catch(err=>console.log('Password Reset Error: ', err));\n        }\n        else{\n            console.log('Passwords don\\'t match');\n        }\n    };\n\n    \n    useEffect(()=>{\n        console.log('MANAGE USER');\n        if(props.location.type===undefined){\n            // email verification\n            var mode = getParameterByName('mode');\n            var actionCode = getParameterByName('oobCode');\n            if(mode!==null && actionCode!==null){\n                // Either email verification or password reset\n                // read the mode and action code to determine type\n                // if mode = email verification then applyActionCode\n                // else if mode = password reset then verifyPasswordResetCode\n                setActionCode(actionCode);\n                switch(mode){\n                    case 'verifyEmail': fire.auth().applyActionCode(actionCode).then((res)=>{\n                        console.log(res);\n                        console.log('Verified');\n                        setEmailVerified(true);\n                    }).catch(err=>console.log('Error In Email Verification', err));\n                        break;\n\n                    case 'resetPassword':   fire.auth().verifyPasswordResetCode(actionCode).then((email) => {\n                        setResetPassword(true);\n                    }).catch((error) => {console.log('Password Reset Error')});\n                        break;\n                    default: console.log('Error in Action');\n                }\n            }\n            else if(mode===null && actionCode===null){\n                setEmailToVerify(true);\n            }\n        }\n        else{\n            if(fire.auth().currentUser!==null){\n                if(fire.auth().currentUser.emailVerified===false){\n                    setPasswordToReset(true);\n                }\n                else{\n                    setPasswordToReset(false);\n                }\n            }\n            else{\n                setPasswordToReset(true);\n            }\n        }\n        return () => {mode = ''; actionCode = '';}\n    }, [emailVerified, emailToVerify, props, passwordToReset]);\n    \n    return (\n        <div className='ManageUser'>\n            <div className='verifyEmail' style={{display: emailToVerify? 'block' : 'none'}}>{\n                emailVerified? (<Redirect to='/login'/>) : (<div><h1 style={{color: 'white'}}>Verify your email!!!</h1></div>)\n            }</div>\n            <div className='ManageUser' style={{display: (resetPassword)? 'block' : 'none'}}>\n                {\n                    resetDone? (<Redirect to='/login' />) :\n                    <form onSubmit={updatePassword}>\n                        <input type='password' value={password} placeholder='Enter new password' onChange={(event)=>setPassword(event.target.value)}/>\n                        <input type='password' value={confirmPassword} placeholder='Re-enter new password' onChange={(event)=>setConfirmPassword(event.target.value)}/>\n                        <button className = 'uiButtons' type='submit'>Set</button>\n                    </form>\n                }\n            </div>\n            <div className='sendResetLink' style={{display: passwordToReset? 'block' : 'none'}}>\n                <div style={{display: mailSend? 'none' : 'block'}} className='passwordResetForm_parent'>\n                    <form onSubmit={sendPasswordResetEmail}>\n                    <div>RESET PASSWORD</div>\n                        <input type='email' value={email} placeholder='Enter your email' onChange={(event)=>setEmail(event.target.value)}/>\n                        <button className = 'uiButtons' type='submit'>Reset</button>\n                    </form>\n                </div>\n                <div style={{display: mailSend? 'block': 'none', color: 'white'}}>{resetMsg}</div>\n            </div>\n        </div>\n    )\n}\n\nexport default ManageUser;","// import './App.css';\nimport React from 'react';\nimport {BrowserRouter, Switch, Route} from 'react-router-dom';\nimport Login from './components/Login';\nimport Signup from './components/Signup';\nimport Home from './components/Home';\nimport Main from './components/Main';\nimport {AuthProvider} from './components/Auth';\nimport PrivateRoute from './components/PrivateRoute';\nimport ResetPassword from './components/ResetPassword';\nimport ManageUser from './components/ManageUser';\n\nfunction App() {\n  var images = document.querySelectorAll('img');\n  images.forEach(image=>image.draggable = false);\n  return (\n    <AuthProvider>  \n      <BrowserRouter>\n        <div className=\"App\">\n          <Switch>\n            <Route path=\"/\" exact component={Home} />\n            <Route path=\"/login\" component={Login} />\n            <Route path=\"/signup\" component={Signup} />\n            <Route path=\"/manage-user\" component={ManageUser} />\n            <Route path=\"/reset-password\" component={ResetPassword} />\n            <PrivateRoute path=\"/main\" component={Main} />\n          </Switch>\n        </div>\n      </BrowserRouter>\n    </AuthProvider>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}